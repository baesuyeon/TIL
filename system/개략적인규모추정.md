> 참고: 가상 면접 사례로 배우는 대규모 시스템 설계 기초 > 개략적인 규모 추정

## 2의 제곱수
컴퓨터는 2진법(0과 1)으로 동작하기 때문에 메모리 단위도 2의 거듭제곱을 기준으로 한다.

| 2의 제곱수 | 근사치   | 이름     | 축약형 
|--------|-------|--------|-----|
| 2^10   | 1천    | 1킬로바이트 | 1KB |
| 2^20   | 1백만   | 1메가바이트 | 1MB |
| 2^30   | 10억   | 1기가바이트 | 1KB |
| 2^40   | 1조    | 1테라바이트 | 1TB |
| 2^50   | 1000조 | 1페타바이트 | 1PB |

💡 참고
최소 단위는 1바이트(8비트)이다.
ASCII 문자 하나가 차지하는 메모리 크기가 1바이트이다. ("Hello"는 5바이트)

## 메모리, 디스크의 차이
- 메모리는 빠르지만(다만 전원이 꺼지면 데이터가 사라진다) 디스크는 아직도 느리다
- 디스크 탐색은 가능한 한 피하라 (DB에서 디스크를 자주 뒤지지 않도록 캐시를 잘 활용하라)
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라 (gzip으로 100MB → 20MB으로 압축 후 전송)
- 데이터 센터는 보통 여러 지역에 분산되어있고 센터들 간에 데이터를 주고받는데에는 시간이 걸린다.

## 고가용성
고가용성은 서비스가 오랜시간동안 지속적으로 중단없이 운영될 수 있는 능력을 나타내는 지표다.
가용률 100%는 시스템이 단 한 번도 중단된 적이 없었음을 의미한다.
대부분의 서비스는 99~100% 사이의 값을 갖는다.

9가 많으면 많을 수록 좋다.

| 가용률     | 하루당 장애시간   |
|----------|---------------|
| 99%      | 14.40분        |
| 99.9%    | 1.44분         |
| 99.99%   | 8.64초         |
| 99.999%  | 864.00밀리초    | 
| 99.9999% | 86.40밀리초     |

## QPS
QPS = 초당 요청 수

시스템이 초당 몇 개의 요청을 처리해야 하는지를 의미한다.

예제 시나리오 (트위터)
* 월간 활성 사용자(Monthly Active User): 3억명
* 그 중 50%가 매일 사용 → 1.5억명
* 하루에 1인당 트윗 2건

```text
QPS = (1.5억 명 * 2 트윗) / (24시간 * 3600초)
     = 약 3,500 QPS
```

## 데이터 저장소 요구량 추정
트윗 1건의 크기 가정
* tweet_id : 64바이트
* 텍스트 : 140바이트
* 미디어(이미지, 동영상): 1MB
* 미디어를 포함하는 트위터는 10%
* 데이터는 5년간 보관

```text
1.5억 명 * 2 트윗 * 10% * 1MB = 30TB/일
```
하루에 30TB의 미디어 데이터가 쌓인다.

```text
30TB * 365일 * 5년 = 약 55PB
```
5년 동안 보관하려면 엄청난 저장 공간이 필요하다.

